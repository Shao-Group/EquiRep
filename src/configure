#!/bin/bash

# Configuration script for EquiRep

VERSION="1.0.0"
PACKAGE_NAME="EquiRep"

echo "Configuring ${PACKAGE_NAME} version ${VERSION}..."

# Generate Makefile
cat << EOF > Makefile
# Makefile generated by configure script

# Version of ${PACKAGE_NAME}
VERSION = ${VERSION}
PACKAGE_NAME = ${PACKAGE_NAME}
DISTDIR = \$(PACKAGE_NAME)-\$(VERSION)

# Compiler and flags
CXX = g++
CXXFLAGS = -O3 -std=c++11

# Target
TARGET = EquiRep
SRC = EquiRep.cpp
OBJ = \$(SRC:.cpp=.o)

# Rules
all: \$(TARGET)

\$(TARGET): \$(SRC)
	\$(CXX) \$(CXXFLAGS) -o \$(TARGET) \$(SRC)

dist: clean
	mkdir -p \$(DISTDIR)
	cp \$(SRC) Makefile configure \$(DISTDIR)/
	tar -czf \$(DISTDIR).tar.gz \$(DISTDIR)
	rm -rf \$(DISTDIR)
	@echo "Distribution package created: \$(DISTDIR).tar.gz"

.PHONY: clean dist

clean:
	rm -f \$(TARGET) \$(OBJ)
EOF

echo "Configuration complete for ${PACKAGE_NAME} version ${VERSION}."
echo "Run 'make' to build ${PACKAGE_NAME}."
